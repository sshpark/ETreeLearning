NETWORKSIZE 100
ONLINESIZE NETWORKSIZE
OUTPUT_FILEPATH C:/koori/learning/javaprojects/ETreeLearning/res/losses/20200408/etree_100_5_8_noniid_pendigits_kma005.txt
DELAY_OUTPUT_FILEPATH C:/koori/learning/javaprojects/ETreeLearning/res/losses/delay_etree.txt

# Network topology parameters
TOPO_FILEPATH C:/koori/learning/javaprojects/ETreeLearning/res/db/data100.in
LAYERS 3

# clustering algorithm, 0-km, 1-kma, 2-ununiformkma
clustering.mode 1

LOGTIME 2000
SEED 1234567890

# Transport parameters
DROP 0.0

# Overlay parameters
NEWSCAST_CACHESIZE NETWORKSIZE/10.0
NEWSCAST_FREQ NETWORKSIZE/10.0

# Learner parameters
CAPACITY NETWORKSIZE
DELAY_MEAN 2000
DELAY_VAR 0
RECV_PERCENT 1.0
REGULARIZATION 0.01

#-------------------- General Simulation Properties --------------------
network.size NETWORKSIZE
network.node learning.node.ETreeNode
simulation.endtime 360 * 1000
simulation.logtime LOGTIME
random.seed SEED

#----------------settings of clustering based on accuracies-------------
clustering.delta 0.05
# 2 means check the half of nodes
clustering.checkNearestRatio 2
clustering.iterations 100


#-------------------- Transport layer --------------------
protocol.transport MinDelayTransport

#-------------------- Connection layer --------------------
protocol.overlay peersim.extras.mj.ednewscast.EdNewscast
protocol.overlay.transport transport
protocol.overlay.cache NEWSCAST_CACHESIZE
protocol.overlay.baseFreq NEWSCAST_FREQ


#-------------------- Learning layer(s) --------------------
protocol.learningProtocol learning.protocols.ETreeLearningProtocol
protocol.learningProtocol.linkable overlay
protocol.learningProtocol.transport transport
protocol.learningProtocol.delayMean DELAY_MEAN
protocol.learningProtocol.delayVar DELAY_VAR
protocol.learningProtocol.layers LAYERS
protocol.learningProtocol.ratios 1,5,1
protocol.learningProtocol.recvPercent RECV_PERCENT
protocol.learningProtocol.modelHolderName learning.modelHolders.BoundedModelHolder
protocol.learningProtocol.capacity CAPACITY
protocol.learningProtocol.trainingFile res/db/pendigits/pendigits_tra_noniid.dat
protocol.learningProtocol.evaluationFile res/db/pendigits/pendigits_eval.dat
protocol.learningProtocol.evalForClusteringFile res/db/pendigits/pendigits_tes_1000.dat
protocol.learningProtocol.pretrainRounds 10
protocol.learningProtocol.modelName learning.models.SoftmaxRegression
protocol.learningProtocol.SoftmaxRegression.lambda 0.02

#-------------------- Initializers --------------------
init.overlayInit learning.topology.ETreeLogicalTopology
init.overlayInit.layers LAYERS
init.overlayInit.recvPercent RECV_PERCENT
init.overlayInit.groups 8,1,1
init.overlayInit.protocol overlay

init.overlayStart peersim.extras.mj.ednewscast.EventInitializer
init.overlayStart.protocolID overlay

init.instanceLoader learning.controls.initializers.InstanceLoader
init.instanceLoader.protocol learningProtocol
init.instanceLoader.trainingFile res/db/pendigits/pendigits_tra_noniid.dat
init.instanceLoader.evaluationFile res/db/pendigits/pendigits_eval.dat
init.instanceLoader.samplesPerNode 74
#init.instanceLoader.trainingFile res/db/mnist/mnist_tra.dat
#init.instanceLoader.evaluationFile res/db/mnist/mnist_eval.dat
#init.instanceLoader.samplesPerNode 600
#init.instanceLoader.trainingFile res/db/uciHAR_train.dat
#init.instanceLoader.evaluationFile res/db/uciHAR_eval.dat
#init.instanceLoader.samplesPerNode 73

init.setParameterForModels learning.controls.initializers.SetParameterForModels
init.setParameterForModels.protocol learningProtocol

init.setMinDelayMatrixForProtocol learning.controls.initializers.SetMinDelayMatrixForProtocol
init.setMinDelayMatrixForProtocol.protocol learningProtocol

init.learningProtocolStart learning.controls.initializers.StartETreeMessageInitializer
init.learningProtocolStart.protocol learningProtocol
init.learningProtocolStart.recvPercent RECV_PERCENT
init.learningProtocolStart.delay 0


#-------------------- Define Init Sequence --------------------
include.init instanceLoader overlayInit overlayStart setParameterForModels setMinDelayMatrixForProtocol learningProtocolStart